{% extends '::template_back.html.twig' %}

{% block body %}

<h1>Photos</h1>

<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>Titre</th>
            <th>Description</th>
            <th>Crée le</th>
            <th>Image</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
    {% for entity in entities %}
        <tr>
            <td>{{ entity.title }}</td>
            <td>{{ entity.content }}</td>
            <td>{% if entity.created %}{{ entity.created|date('d/m/Y à H:i:s') }}{% endif %}</td>
            <td><img src="{{ asset('uploads/photos/') }}{{entity.path}}" alt="{{ entity.title }}" width="300px"/></td>
            <td>
                <a href="{{ path('photo_show', { 'id': entity.id }) }}" class="btn" ><i class="icon-search"></i></a>  
                <a href="{{ path('photo_edit', { 'id': entity.id }) }}" class="btn" ><i class="icon-edit"></i></a>  
                <a href="#myModal{{ entity.title }}" role="button" class="btn" data-toggle="modal"><i class="icon-trash"></i></a>
            </td>
        </tr>

        <div id="myModal{{ entity.title }}" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3 id="myModalLabel">Supprimer une photo</h3>
          </div>
          <div class="modal-body">
            <p>Voulez-vous vraiment supprimer la photo "{{ entity.title }}" ?</p>
            <p><i class="icon-warning-sign"></i> <em>Attention ! Cette action est irréversible !</em></p>
          </div>
          <div class="modal-footer">
            <button class="btn" data-dismiss="modal" aria-hidden="true">Annuler</button>
            <a href="{{ path('photo_edit', { 'id': entity.id }) }}" class="btn btn-danger">Supprimer cette photo <i class="icon-remove icon-white"></i></a>
          </div>
        </div>

    {% endfor %}
    </tbody>
</table>

<a href="{{ path('photo_new') }}" class="btn">
    <i class="icon-plus"></i> Ajouter une photo
</a>

{% endblock %}
